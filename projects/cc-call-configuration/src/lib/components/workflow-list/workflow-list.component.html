<div class="sidebar-container" [class.collapsed]="collapsed">
  <div class="sidebar-content" *ngIf="!collapsed">
    <header>
      <div class="sidebar-hamburger" (click)="toggleSidebar()">
        <mat-icon>menu</mat-icon>
      </div>
      <input class="toolbar-search" [formControl]="searchControl" placeholder="Type in to search...">
      <button icon-button (click)="onCreate()">add</button>
    </header>
    <div class="list">
      <ng-container *ngFor="let item of filteredEntities; trackBy: trackByKey">
        <div class="explorer-panel-item" [routerLink]="item.key" routerLinkActive="active">
          <span>{{ item.name }}</span>
          <div class="flex-space"></div>
          <button icon-button (click)="onDelete(item, $event)">delete</button>
        </div>
      </ng-container>
    </div>
  </div>
  <div class="collapsed-top" *ngIf="collapsed">
    <div class="sidebar-hamburger collapsed-only" (click)="toggleSidebar()">
      <mat-icon>menu</mat-icon>
    </div>
    <div class="collapsed-list">
      <ng-container *ngFor="let item of filteredEntities; let idx = index; trackBy: trackByKey">
        <button class="collapsed-workflow-icon" [routerLink]="item.key" routerLinkActive="active">W{{ idx + 1 }}</button>
      </ng-container>
    </div>
    <div class="collapsed-add-btn-container">
      <button class="collapsed-add-btn" (click)="onCreate()" aria-label="Add Workflow">+</button>
    </div>
  </div>
  <workflow-create [show]="showCreateModal" (closed)="onModalClosed()" (created)="onModalCreated($event)"></workflow-create>
</div>
